{"ast":null,"code":"import { takeEvery } from 'redux-saga/effects';\nimport ShopActionTypes from './shop.types';\nimport { firestore, convSnapToMap } from '../../firebase/firebase.utils';\nexport function* fetchCollAsync() {\n  yield console.log('I am groot');\n  const CollRef = firestore.collection('collections');\n  dispatch(fetchCollStart());\n  CollRef.get().then(snapshot => {\n    const collObj = convSnapToMap(snapshot);\n    dispatch(fetchCollPass(collObj));\n    this.setState({\n      loading: false\n    });\n  }).catch(err => dispatch(fetchCollFail(err.message)));\n}\nexport function* fetchCollStart() {\n  yield takeEvery(ShopActionTypes.FETCH_COLL_START, fetchCollAsync);\n}","map":{"version":3,"sources":["/Users/pepsico/React/e-comm/src/redux/shop/shop.saga.js"],"names":["takeEvery","ShopActionTypes","firestore","convSnapToMap","fetchCollAsync","console","log","CollRef","collection","dispatch","fetchCollStart","get","then","snapshot","collObj","fetchCollPass","setState","loading","catch","err","fetchCollFail","message","FETCH_COLL_START"],"mappings":"AAAA,SAASA,SAAT,QAA0B,oBAA1B;AACA,OAAOC,eAAP,MAA4B,cAA5B;AACA,SAAQC,SAAR,EAAkBC,aAAlB,QAAsC,+BAAtC;AAEA,OAAO,UAAUC,cAAV,GAA0B;AAC7B,QAAMC,OAAO,CAACC,GAAR,CAAY,YAAZ,CAAN;AACA,QAAMC,OAAO,GAAGL,SAAS,CAACM,UAAV,CAAqB,aAArB,CAAhB;AACIC,EAAAA,QAAQ,CAACC,cAAc,EAAf,CAAR;AACAH,EAAAA,OAAO,CAACI,GAAR,GAAcC,IAAd,CAAmBC,QAAQ,IAAI;AAC3B,UAAMC,OAAO,GAAGX,aAAa,CAACU,QAAD,CAA7B;AACAJ,IAAAA,QAAQ,CAACM,aAAa,CAACD,OAAD,CAAd,CAAR;AACA,SAAKE,QAAL,CAAc;AAACC,MAAAA,OAAO,EAAC;AAAT,KAAd;AACH,GAJD,EAIGC,KAJH,CAISC,GAAG,IAAIV,QAAQ,CAACW,aAAa,CAACD,GAAG,CAACE,OAAL,CAAd,CAJxB;AAKP;AAED,OAAO,UAAUX,cAAV,GAA0B;AAC7B,QAAMV,SAAS,CACXC,eAAe,CAACqB,gBADL,EAEXlB,cAFW,CAAf;AAIH","sourcesContent":["import { takeEvery } from 'redux-saga/effects'\nimport ShopActionTypes from './shop.types'\nimport {firestore,convSnapToMap} from '../../firebase/firebase.utils'\n\nexport function* fetchCollAsync(){\n    yield console.log('I am groot')\n    const CollRef = firestore.collection('collections')\n        dispatch(fetchCollStart());\n        CollRef.get().then(snapshot => {\n            const collObj = convSnapToMap(snapshot)\n            dispatch(fetchCollPass(collObj))\n            this.setState({loading:false})\n        }).catch(err => dispatch(fetchCollFail(err.message)))\n}\n\nexport function* fetchCollStart(){\n    yield takeEvery(\n        ShopActionTypes.FETCH_COLL_START,\n        fetchCollAsync\n    )\n}"]},"metadata":{},"sourceType":"module"}