{"ast":null,"code":"import { takeLatest, call, put, all } from 'redux-saga/effects';\nimport ShopActionTypes from './shop.types';\nimport { firestore, convSnapToMap } from '../../firebase/firebase.utils';\nimport { fetchCollPass, fetchCollFail } from './shop.actions';\nexport function* fetchCollAsync() {\n  try {\n    const CollRef = firestore.collection('collections');\n    const snapshot = yield CollRef.get();\n    const collMap = yield call(convSnapToMap, snapshot);\n    yield put(fetchCollPass(collMap));\n  } catch (err) {\n    yield put(fetchCollFail(err));\n  } //    CollRef.get().then(snapshot => {\n  //        const collObj = convSnapToMap(snapshot)\n  //        dispatch(fetchCollPass(collObj))\n  //        this.setState({loading:false})\n  //    }).catch(err => dispatch(fetchCollFail(err.message)))\n\n}\nexport function* fetchCollStart() {\n  yield takeLatest(ShopActionTypes.FETCH_COLL_START, fetchCollAsync);\n}\nexport function* shopSagas() {\n  yield all([call(fetchCollStart)]);\n}","map":{"version":3,"sources":["/Users/pepsico/React/e-comm/src/redux/shop/shop.saga.js"],"names":["takeLatest","call","put","all","ShopActionTypes","firestore","convSnapToMap","fetchCollPass","fetchCollFail","fetchCollAsync","CollRef","collection","snapshot","get","collMap","err","fetchCollStart","FETCH_COLL_START","shopSagas"],"mappings":"AAAA,SAASA,UAAT,EAAsBC,IAAtB,EAA4BC,GAA5B,EAAgCC,GAAhC,QAA0C,oBAA1C;AACA,OAAOC,eAAP,MAA4B,cAA5B;AACA,SAAQC,SAAR,EAAkBC,aAAlB,QAAsC,+BAAtC;AACA,SAASC,aAAT,EAAwBC,aAAxB,QAA6C,gBAA7C;AAEA,OAAO,UAAUC,cAAV,GAA0B;AAC7B,MACA;AACI,UAAMC,OAAO,GAAGL,SAAS,CAACM,UAAV,CAAqB,aAArB,CAAhB;AACA,UAAMC,QAAQ,GAAG,MAAMF,OAAO,CAACG,GAAR,EAAvB;AACA,UAAMC,OAAO,GAAG,MAAMb,IAAI,CACtBK,aADsB,EAEtBM,QAFsB,CAA1B;AAIA,UAAMV,GAAG,CAACK,aAAa,CAACO,OAAD,CAAd,CAAT;AACH,GATD,CAUA,OAAMC,GAAN,EAAU;AACN,UAAMb,GAAG,CAACM,aAAa,CAACO,GAAD,CAAd,CAAT;AACH,GAb4B,CAe7B;AACA;AACA;AACA;AACA;;AAEH;AAED,OAAO,UAAUC,cAAV,GAA0B;AAC7B,QAAMhB,UAAU,CACZI,eAAe,CAACa,gBADJ,EAEZR,cAFY,CAAhB;AAIH;AAED,OAAO,UAAUS,SAAV,GAAqB;AACxB,QAAMf,GAAG,CAAC,CAACF,IAAI,CAACe,cAAD,CAAL,CAAD,CAAT;AACH","sourcesContent":["import { takeLatest , call, put,all} from 'redux-saga/effects'\nimport ShopActionTypes from './shop.types'\nimport {firestore,convSnapToMap} from '../../firebase/firebase.utils'\nimport { fetchCollPass, fetchCollFail } from './shop.actions';\n\nexport function* fetchCollAsync(){\n    try\n    {\n        const CollRef = firestore.collection('collections')\n        const snapshot = yield CollRef.get()\n        const collMap = yield call(\n            convSnapToMap,\n            snapshot\n        )\n        yield put(fetchCollPass(collMap))\n    }\n    catch(err){\n        yield put(fetchCollFail(err))\n    }\n\n    //    CollRef.get().then(snapshot => {\n    //        const collObj = convSnapToMap(snapshot)\n    //        dispatch(fetchCollPass(collObj))\n    //        this.setState({loading:false})\n    //    }).catch(err => dispatch(fetchCollFail(err.message)))\n\n}\n\nexport function* fetchCollStart(){\n    yield takeLatest(\n        ShopActionTypes.FETCH_COLL_START,\n        fetchCollAsync\n    )\n}\n\nexport function* shopSagas(){\n    yield all([call(fetchCollStart)])\n}"]},"metadata":{},"sourceType":"module"}